Extra Exercises – #3 - NSubstitute

Bank solution
Lenny the Intern have developed a starting point for our new banking solution. However we are lacking some basic tests for this solution 
and we need you to help Lenny to add the necessary tests listed below:
•	Important, do verify by changing the bank code that the tests can fail and pass.
•	Feel free to add additional tests if you find that necessary.  
•	See the existing code in Extra Exercise 3 Code.zip

The tests that you should implement:
•	CanCreateBankAccount

Create a valid account and verify that when we call GetAccount, we get the correct information back. Verify Name, Number and Balance. Balance should be zero.
•	CanNotCreateDuplicateAccounts

When creating two accounts with the same account number, then a DuplicateAccount exception should be thrown
•	WhenCreatingAnAccount_AMessageIsWrittenToTheAuditLog
•	Each time we create an account, we need to verify that the written message to the audit log contains both the name and account number of the newly created account.
•	WhenCreatingAnValidAccount_OneMessageAreWrittenToTheAuditLog
•	Each time we create an account with a valid account number, we need to verify that one record is written to the audit log. 
    Ignore what is written to the log, just make sure exactly one call are made.
•	WhenCreatingAnInvalidAccount_TwoMessagesAreWrittenToTheAuditLog

Each time we create an account with an invalid account number, we need to verify that two records are written to the audit log. 
Ignore what is written to the log, just make sure two calls are made.
•	WhenCreatingAnInvalidAccount_AWarn12AndErro45MessageIsWrittenToAuditLog

Each time we create an invalid account, the two messages written to the audit log must either contain Warn12: or Error45:
•	VerifyThat_GetAuditLog_GetsTheLogFromTheAuditLogger

We need to verify that when we call GetAuditLog on the bank object, that it do actually call the AuditLogger.GetLog() method. Setup the test so that the GetLog() method 
on the audit logger returns a list of three items. Use the mocking feature in NSubstitute to do this. Make sure in the test these three items are returned from the 
GetAuditLog Method. 